# CALL THIS TO RUN THE SVN UPDATE SCRIPT BEFORE
# CREATING BINARY


SET (SVN_NUMBER_SCRIPT_CMD "")
SET (SVN_NUMBER_SCRIPT_TOOL "")
 

IF (WIN32)
	SET (SVN_NUMBER_SCRIPT_TOOL "")
	SET (SVN_NUMBER_SCRIPT_CMD "version_svn_win.bat")
ELSE (WIN32)
# LINUX & MAC
	SET (SVN_NUMBER_SCRIPT_TOOL "sh")
	SET (SVN_NUMBER_SCRIPT_CMD "version_svn_unix.sh")
ENDIF (WIN32)

 
 

#OPTIONS
SET (SVN_DURING_CMAKE TRUE CACHE BOOL "Get svn number during cmake process")
SET (SVN_DURING_BUILD FALSE CACHE BOOL "Get svn number when project during compilation") 
  
  
  
IF (SVN_DURING_BUILD)
ADD_CUSTOM_COMMAND (
	TARGET ${PROGNAME}
	PRE_BUILD
    COMMAND ${SVN_NUMBER_SCRIPT_TOOL} ${SVN_NUMBER_SCRIPT_CMD}
    WORKING_DIRECTORY "${PROJECT_SOURCE_DIR}/../build/"
    )
ENDIF(SVN_DURING_BUILD)




IF(SVN_DURING_CMAKE)
EXECUTE_PROCESS (
		COMMAND ${SVN_NUMBER_SCRIPT_TOOL} ${SVN_NUMBER_SCRIPT_CMD}
		WORKING_DIRECTORY "${PROJECT_SOURCE_DIR}/../build/"
		)
ENDIF(SVN_DURING_CMAKE)


  
  